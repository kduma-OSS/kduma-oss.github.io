---
title: Host Service
list_title: WebPrint Service
type: app
platform: PHP
active: true
github: https://github.com/kduma-OSS/WebPrint-Service
system: WebPrint
system_url: /systems/webprint
---


# WebPrint Service

Service for making connection between remote [WebPrint Server](/systems/webprint/server) and local printers.

:button-link[GitHub Repository]{icon="bxl:github" href="https://github.com/kduma-OSS/WebPrint-Service" blank}
&nbsp;
:button-link[Download webprint-service.phar]{icon="material-symbols:cloud-download" href="https://github.com/kduma-OSS/WebPrint-Service/releases/latest/download/webprint-service.phar" blank}


## Setup

You can install `webprint-service` tool in four ways:

- As a Docker image - see [Docker Setup](#docker-setup)
- Global composer installation - tool will be available globally as `webprint-service` command
- You can download phar executable file from [GitHub Releases](https://github.com/kduma-OSS/WebPrint-Service/releases/latest){:target="_blank"} page
- Download source code form [GitHub](https://github.com/kduma-OSS/WebPrint-Service){:target="_blank"} to run

::code-group
```bash [Docker]
docker pull ghcr.io/kduma-oss/webprint-service:latest
```
```bash [Composer Global]
composer global require kduma/webprint-service-cli
```
```bash [phar executable]
wget https://github.com/kduma-OSS/WebPrint-Service/releases/latest/download/webprint-service.phar
chmod +x webprint-service.phar
mv webprint-service.phar /usr/local/bin/webprint-service
```
```bash [Sources]
git clone https://github.com/kduma-OSS/WebPrint-Service.git webprint-service
cd webprint-service
composer install
```
::

### Environmental Variables

| Environmental Variable Name | Description                                                                                                   |
|-----------------------------|---------------------------------------------------------------------------------------------------------------|
| `WEBPRINT_SERVER_ENDPOINT`  | An url pointing to the [WebPrint Server](/systems/webprint/server), ending with `/api/print-service` endpoint |
| `WEBPRINT_SERVICE_KEY`      | API Key generated for your WebPrint Service instance                                                          |


### Docker Setup

This tool has been packaged as Docker image. For deployment, you can create your own `docker-compose.yml` file 
based on [docker-compose.yml](https://github.com/kduma-OSS/WebPrint-Service/blob/main/docker/docker-compose.yml) from 
source repository.

Alternatively you can deploy images directly, using `docker run` commands.
You can use following example command:

```bash
docker run --detach --restart always \
  --volume $(pwd):/tmp/webprint-service-debug-output \
  --env WEBPRINT_SERVER_ENDPOINT="http://webprint-server/api/print-service" \
  --env WEBPRINT_SERVICE_KEY="1|DEBUG_WEBPRINT_SERVICE_KEY" \
  --env CUPS_SERVER=cups:631 \
  --hostname webprint-service \
  --name webprint-service \
  ghcr.io/kduma-oss/webprint-service:latest
```

Publishing `/tmp/webprint-service-debug-output` volume is optional, as it is only used when print jobs are sent to printer configured with `debug://` protocol.
Environmental values `WEBPRINT_SERVER_ENDPOINT` and `WEBPRINT_SERVICE_KEY`, set accordingly to [Environmental Variables](#environmental-variables) section above.
If you want to use CUPS print server with WebPrint Service, you need to also set `CUPS_SERVER` environmental variable to point to your CUPS server instance.

If you don't have CUPS server already installed, you can use following docker image:

```bash
docker run --detach --restart always \
  --volume $(pwd):/etc/cups \
  --env ADMIN_PASSWORD=mySecretPassword \
  --hostname cups \
  --name cups \
  --expose 631 \
  --publish 631:631 \
  ydkn/cups:latest
```

For more information about this CUPS Docker Image, check [ydkn/cups](https://hub.docker.com/r/ydkn/cups) page on Docker Hub.

## Usage

This executable provides two tools, for using with [WebPrint Server](/systems/webprint/server).

### Watching for incoming jobs
Main deamon-mode command for pooling new print jobs. This command should be automatically restarted using something like [Supervisord](https://github.com/Supervisor/supervisor).

```bash
./webprint-service watch
```

### Parsing PPD definition files
A tool for parsing PPD file to format acceptable in Printer configuration on [WebPrint Server](/systems/webprint/server).

```bash
./webprint-service ppd:parse <file> {--array}
```